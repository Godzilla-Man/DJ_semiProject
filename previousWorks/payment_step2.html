<!DOCTYPE html>
<html lang="ko">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>줍줍 - 주문/결제 (2단계)</title>
    <link rel="stylesheet" href="style.css">
</head>
<body>
    <div class="container">
        <header>
            <h1>줍줍</h1>
            <p>주문/결제</p>
        </header>
        <main>
            <div class="payment-step-indicator">
                <span class="step">1. 주문서작성</span> &gt;
                <span class="step active">2. 결제진행</span> &gt;
                <span class="step">3. 주문완료</span>
            </div>

            <form action="#" method="post" onsubmit="alert('PG사 연동 및 실제 결제 처리 로직 구현 필요'); return false;">
                <section class="orderer-info-confirm section-box">
                    <h2>주문자 정보</h2>
                    <p><span>이름:</span> 김줍줍</p>
                    <p><span>연락처:</span> 010-1234-5678</p>
                    <p><span>이메일:</span> joopjoop@example.com</p>
                </section>

                <section class="delivery-info-confirm section-box">
                    <h2>배송 정보</h2>
                    <p><span>받는 분:</span> 김줍줍</p>
                    <p><span>연락처:</span> 010-1234-5678</p>
                    <p><span>주소:</span> (12345) 서울시 줍줍구 줍줍로 123, 101동 101호</p>
                    <p><span>배송메모:</span> 문 앞에 놓아주세요.</p>
                    {/* <button type="button" class="btn btn-secondary btn-small">배송지 변경</button> */}
                </section>

                <section class="order-product-confirm section-box">
                    <h2>주문상품 정보</h2>
                     <div class="order-item">
                        <img src="https://via.placeholder.com/80x80.png?text=상품" alt="상품 이미지">
                        <div class="item-details">
                            <p class="item-name">빈티지 데님 자켓</p>
                            <p class="item-option">색상: 블루 / 사이즈: M</p>
                            <p class="item-price">35,000원 / 1개</p>
                        </div>
                    </div>
                </section>

                <section class="payment-method section-box">
                    <h2>결제수단</h2>
                    <div class="method-options">
                        <div class="form-group radio-group">
                            <input type="radio" id="pay-card" name="paymentMethod" value="card" checked>
                            <label for="pay-card">신용/체크카드</label>
                        </div>
                        <div class="form-group radio-group">
                            <input type="radio" id="pay-phone" name="paymentMethod" value="phone">
                            <label for="pay-phone">휴대폰 결제</label>
                        </div>
                        <div class="form-group radio-group">
                            <input type="radio" id="pay-bank" name="paymentMethod" value="bank">
                            <label for="pay-bank">무통장입금 (가상계좌)</label>
                        </div>
                         <div class="form-group radio-group">
                            <input type="radio" id="pay-toss" name="paymentMethod" value="toss">
                            <label for="pay-toss">토스페이</label>
                        </div>
                        {/* 선택된 결제수단에 따라 상세 입력폼이 여기에 동적으로 표시될 수 있음 (JS 필요) */}
                    </div>
                </section>

                <section class="final-payment-amount section-box">
                    <h2>최종 결제금액</h2>
                    <div class="amount-details">
                        <p><span>총 상품금액</span> <span>35,000원</span></p>
                        <p><span>배송비</span> <span>+ 3,000원</span></p>
                        <p><span>가상머니 사용</span> <span class="discount">- 5,000원</span></p> {/* virtual_payment_info.html에서 선택한 경우 */}
                        <p class="total"><span>최종 결제금액</span> <span class="final-amount">33,000원</span></p>
                    </div>
                </section>

                <section class="terms-agreement section-box">
                    <h2>약관 동의</h2>
                    <div class="form-group">
                        <input type="checkbox" id="agree-all" name="agreeAll">
                        <label for="agree-all"><b>전체 동의</b> (전자금융거래 이용약관, 개인정보 수집 및 이용 등)</label>
                    </div>
                    <ul class="terms-list">
                        <li>
                            <input type="checkbox" id="agree-term1" name="agreeTerm1" class="agree-individual" required>
                            <label for="agree-term1">[필수] 전자금융거래 이용약관 동의</label> <a href="#" class="view-term">약관보기</a>
                        </li>
                        <li>
                            <input type="checkbox" id="agree-term2" name="agreeTerm2" class="agree-individual" required>
                            <label for="agree-term2">[필수] 개인정보 수집 및 이용 동의</label> <a href="#" class="view-term">약관보기</a>
                        </li>
                        <li>
                            <input type="checkbox" id="agree-term3" name="agreeTerm3" class="agree-individual" required>
                            <label for="agree-term3">[필수] 개인정보 제3자 제공 동의</label> <a href="#" class="view-term">약관보기</a>
                        </li>
                        <li>
                            <input type="checkbox" id="agree-term4" name="agreeTerm4" class="agree-individual">
                            <label for="agree-term4">[선택] 마케팅 정보 수신 동의</label> <a href="#" class="view-term">약관보기</a>
                        </li>
                    </ul>
                </section>

                <div class="payment-notice">
                    <p>선택항목에 동의하지 않아도 서비스 이용이 가능합니다. (단, 일부 부가서비스 제한)</p>
                    <p>미성년자가 결제 시 법정대리인이 거래를 취소할 수 있습니다.</p>
                </div>

                <div class="form-actions">
                    <button type="button" class="btn btn-secondary" onclick="location.href='payment_step1.html'">이전</button>
                    <button type="submit" class="btn btn-primary btn-large">33,000원 결제하기</button>
                </div>
            </form>
        </main>
        <footer>
            <p>&copy; 2025 줍줍 (JoopJoop)</p>
        </footer>
    </div>
    <script>
        // 전체동의 체크박스 처리
        const agreeAllCheckbox = document.getElementById('agree-all');
        const individualCheckboxes = document.querySelectorAll('.agree-individual');

        if(agreeAllCheckbox) {
            agreeAllCheckbox.addEventListener('change', function() {
                individualCheckboxes.forEach(checkbox => {
                    checkbox.checked = this.checked;
                });
            });
        }

        if(individualCheckboxes) {
            individualCheckboxes.forEach(checkbox => {
                checkbox.addEventListener('change', function() {
                    if (!this.checked) {
                        agreeAllCheckbox.checked = false;
                    } else {
                        // 모든 개별항목이 체크되었는지 확인
                        let allChecked = true;
                        individualCheckboxes.forEach(cb => {
                            if(cb.required && !cb.checked) { // 필수 항목만 검사 (선택 사항)
                                allChecked = false;
                            }
                        });
                        // 모든 필수 항목이 체크되었다면 전체동의도 체크 (선택 사항)
                        // agreeAllCheckbox.checked = allChecked;
                    }
                });
            });
        }
    </script>
</body>
</html>